(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{37:function(n,e,t){},38:function(n,e,t){"use strict";t.r(e);var c=t(0),r=t(2),u=t.n(r),i=t(14),o=t.n(i),a=t(4),s=function(n){var e=n.onChange;return Object(c.jsxs)("div",{children:["filter shown with:",Object(c.jsx)("input",{onChange:e})]})},j=function(n){var e=n.persons,t=n.deletePerson;return Object(c.jsx)("ul",{children:e.map((function(n,e){return Object(c.jsxs)("li",{children:[n.name," ",n.number," ",Object(c.jsx)("button",{onClick:function(){return t(n)},children:"delete"})]},e)}))})},l=function(n){var e=n.name,t=n.number,r=n.personChange,u=n.numberChange;return Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{children:["name:",Object(c.jsx)("input",{value:e,onChange:r})]}),Object(c.jsxs)("div",{children:["number:",Object(c.jsx)("input",{value:t,onChange:u})]})]})},d=t(3),b=t.n(d),h="/api/persons",f=function(){return b.a.get(h).then((function(n){return n.data}))},O=function(n){return b.a.post(h,n).then((function(n){return n.data}))},m=function(n){return b.a.delete("".concat(h,"/").concat(n)).then((function(n){return n.data}))},x=function(n,e){return b.a.put("".concat(h,"/").concat(n),e).then((function(n){return n.data}))},p=(t(37),function(n){var e=n.message;return null===e?null:Object(c.jsx)("div",{className:"success",children:e})}),v=function(){var n=Object(r.useState)([]),e=Object(a.a)(n,2),t=e[0],u=e[1],i=Object(r.useState)(""),o=Object(a.a)(i,2),d=o[0],b=o[1],h=Object(r.useState)(""),v=Object(a.a)(h,2),g=v[0],w=v[1],C=Object(r.useState)(null),S=Object(a.a)(C,2),k=S[0],y=S[1];Object(r.useEffect)((function(){f().then((function(n){u(n)}))}),[]);var P=function(n,e){return n.filter((function(n){return n.name.includes(e)}))},E=function(n,e){console.log(e),x(n,e).then((function(e){u(t.map((function(t){return t.id!==n?t:e})))}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Phonebook"}),Object(c.jsx)("h2",{children:"Search"}),Object(c.jsx)(s,{onChange:function(n){u(P(t,n.target.value))}}),Object(c.jsxs)("form",{onSubmit:function(n){n.preventDefault();var e={name:d,number:g},c=t.find((function(n){return n.name===d}));void 0===c?(O(e).then((function(n){u(t.concat(n))})),u(t.concat(e)),y("".concat(e.name," was added to numbers")),setTimeout((function(){y(null)}),2e3),b(""),w("")):window.confirm("".concat(e.name," is already on the list, replace the old number with a new one?"))&&E(c.id,e)},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Add a new"}),Object(c.jsx)(l,{name:d,number:g,personChange:function(n){b(n.target.value)},numberChange:function(n){w(n.target.value)}})]}),Object(c.jsx)("div",{children:Object(c.jsx)("button",{type:"submit",children:"add"})})]}),Object(c.jsx)(p,{message:k}),Object(c.jsx)("h2",{children:"Numbers"}),Object(c.jsx)(j,{persons:t,deletePerson:function(n){window.confirm("delete ".concat(n.name,"?"))&&m(n.id).then((function(){f().then((function(n){u(n)}))}))}})]})};o.a.render(Object(c.jsx)(u.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.cf3efa41.chunk.js.map