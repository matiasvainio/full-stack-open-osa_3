{"code":"(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{37:function(e,n,t){},38:function(e,n,t){\"use strict\";t.r(n);var c=t(0),r=t(1),u=t.n(r),i=t(14),a=t.n(i),o=t(3),s=function(e){var n=e.onChange;return Object(c.jsxs)(\"div\",{children:[\"filter shown with:\",Object(c.jsx)(\"input\",{onChange:n})]})},j=function(e){var n=e.persons,t=e.deletePerson;return Object(c.jsx)(\"ul\",{children:n.map((function(e,n){return Object(c.jsxs)(\"li\",{children:[e.name,\" \",e.number,\" \",Object(c.jsx)(\"button\",{onClick:function(){return t(e)},children:\"delete\"})]},n)}))})},l=function(e){var n=e.name,t=e.number,r=e.personChange,u=e.numberChange;return Object(c.jsxs)(\"div\",{children:[Object(c.jsxs)(\"div\",{children:[\"name:\",Object(c.jsx)(\"input\",{value:n,onChange:r})]}),Object(c.jsxs)(\"div\",{children:[\"number:\",Object(c.jsx)(\"input\",{value:t,onChange:u})]})]})},b=t(4),d=t.n(b),h=\"/api/persons\",f=function(){return d.a.get(h).then((function(e){return e.data}))},O=function(e){return d.a.post(h,e).then((function(e){return e.data}))},m=function(e){return d.a.delete(\"\".concat(h,\"/\").concat(e)).then((function(e){return e.data}))},x=function(e,n){return d.a.put(\"\".concat(h,\"/\").concat(e),n).then((function(e){return e.data}))},p=(t(37),function(e){var n=e.message;return null===n?null:(console.log(n),Object(c.jsx)(\"div\",{className:\"success\",children:n}))}),v=function(){var e=Object(r.useState)([]),n=Object(o.a)(e,2),t=n[0],u=n[1],i=Object(r.useState)(\"\"),a=Object(o.a)(i,2),b=a[0],d=a[1],h=Object(r.useState)(\"\"),v=Object(o.a)(h,2),g=v[0],w=v[1],C=Object(r.useState)(null),S=Object(o.a)(C,2),k=S[0],y=S[1],P=Object(r.useState)(null),E=Object(o.a)(P,2),J=E[0],N=E[1];Object(r.useEffect)((function(){f().then((function(e){u(e)}))}),[]);var A=function(e,n){return e.filter((function(e){return e.name.includes(n)}))},B=function(e,n){console.log(n),x(e,n).then((function(n){u(t.map((function(t){return t.id!==e?t:n})))}))};return Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(\"h2\",{children:\"Phonebook\"}),Object(c.jsx)(p,{message:J}),Object(c.jsx)(\"h2\",{children:\"Search\"}),Object(c.jsx)(s,{onChange:function(e){u(A(t,e.target.value))}}),Object(c.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault();var n={name:b,number:g},c=t.find((function(e){return e.name===b}));if(c)window.confirm(\"\".concat(n.name,\" is already on the list, replace the old number with a new one?\"))&&(B(c.id,n),d(\"\"),w(\"\"));else{if(!(n.name.length>2&&n.number>7))return;O(n).then((function(e){u(t.concat(e))})).catch((function(e){N(e.response.data)})),u(t.concat(n)),y(\"\".concat(n.name,\" was added to numbers\")),setTimeout((function(){y(null)}),2e3),d(\"\"),w(\"\")}},children:[Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(\"h2\",{children:\"Add a new\"}),Object(c.jsx)(l,{name:b,number:g,personChange:function(e){d(e.target.value)},numberChange:function(e){w(e.target.value)}})]}),Object(c.jsx)(\"div\",{children:Object(c.jsx)(\"button\",{type:\"submit\",children:\"add\"})})]}),Object(c.jsx)(p,{message:k}),Object(c.jsx)(\"h2\",{children:\"Numbers\"}),Object(c.jsx)(j,{persons:t,deletePerson:function(e){window.confirm(\"delete \".concat(e.name,\"?\"))&&m(e.id).then((function(){f().then((function(e){u(e)}))}))}})]})};a.a.render(Object(c.jsx)(u.a.StrictMode,{children:Object(c.jsx)(v,{})}),document.getElementById(\"root\"))}},[[38,1,2]]]);","name":"static/js/main.459137b1.chunk.js","map":{"version":3,"sources":["static/js/main.459137b1.chunk.js"],"names":["this","push","37","module","exports","__webpack_require__","38","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","slicedToArray","components_Filter","props","handleFilter","onChange","Object","children","components_Person","persons","deletePerson","map","person","i","name","number","onClick","components_PersonForm","personChange","numberChange","value","axios","axios_default","baseUrl","services_persons","a","get","then","response","data","newObject","post","id","delete","concat","put","App_Notification","_ref","message","console","log","className","src_App","_useState","_useState2","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","setNumber","_useState7","_useState8","addedMessage","setAddedMessage","_useState9","_useState10","errorMessage","setErrorMessage","returnedPersons","filterPersons","f","filter","includes","updatePerson","returnedPerson","event","target","onSubmit","preventDefault","personObject","alreadyOnList","find","o","window","confirm","length","catch","error","setTimeout","type","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonppuhelinluettelo\"] = this[\"webpackJsonppuhelinluettelo\"] || []).push([[0],{\n\n/***/ 37:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 38:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(14);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/components/Filter.js\nvar Filter_Filter=function Filter(props){var handleFilter=props.onChange;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"filter shown with:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:handleFilter})]});};/* harmony default export */ var components_Filter = (Filter_Filter);\n// CONCATENATED MODULE: ./src/components/Person.js\nvar Person_Person=function Person(props){var persons=props.persons;var deletePerson=props.deletePerson;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:persons.map(function(person,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[person.name,\" \",person.number,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return deletePerson(person);},children:\"delete\"})]},i);})});};/* harmony default export */ var components_Person = (Person_Person);\n// CONCATENATED MODULE: ./src/components/PersonForm.js\nvar PersonForm_PersonForm=function PersonForm(props){var name=props.name,number=props.number,personChange=props.personChange,numberChange=props.numberChange;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"name:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:name,onChange:personChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"number:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:number,onChange:numberChange})]})]});};/* harmony default export */ var components_PersonForm = (PersonForm_PersonForm);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(4);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/persons.js\nvar baseUrl=\"/api/persons\";var persons_getAll=function getAll(){var request=axios_default.a.get(baseUrl);return request.then(function(response){return response.data;});};var persons_create=function create(newObject){var request=axios_default.a.post(baseUrl,newObject);return request.then(function(response){return response.data;});};var persons_remove=function remove(id){var request=axios_default.a.delete(\"\".concat(baseUrl,\"/\").concat(id));return request.then(function(response){return response.data;});};var persons_update=function update(id,newObject){var request=axios_default.a.put(\"\".concat(baseUrl,\"/\").concat(id),newObject);return request.then(function(response){return response.data;});};/* harmony default export */ var services_persons = ({getAll:persons_getAll,create:persons_create,remove:persons_remove,update:persons_update});\n// EXTERNAL MODULE: ./src/app.css\nvar app = __webpack_require__(37);\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),number=_useState6[0],setNumber=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),addedMessage=_useState8[0],setAddedMessage=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),errorMessage=_useState10[0],setErrorMessage=_useState10[1];Object(react[\"useEffect\"])(function(){services_persons.getAll().then(function(returnedPersons){setPersons(returnedPersons);});},[]);var addName=function addName(event){event.preventDefault();var personObject={name:newName,number:number};var alreadyOnList=persons.find(function(o){return o.name===newName;});if(!alreadyOnList){if(personObject.name.length>2&&personObject.number>7){services_persons.create(personObject).then(function(returnedPerson){setPersons(persons.concat(returnedPerson));}).catch(function(error){setErrorMessage(error.response.data);});setPersons(persons.concat(personObject));setAddedMessage(\"\".concat(personObject.name,\" was added to numbers\"));setTimeout(function(){setAddedMessage(null);},2000);setNewName(\"\");setNumber(\"\");}else{return;}}else{if(window.confirm(\"\".concat(personObject.name,\" is already on the list, replace the old number with a new one?\"))){updatePerson(alreadyOnList.id,personObject);setNewName(\"\");setNumber(\"\");}}};var handlePersonChange=function handlePersonChange(event){setNewName(event.target.value);};var handleNumberChange=function handleNumberChange(event){setNumber(event.target.value);};var handleFilter=function handleFilter(event){setPersons(filterPersons(persons,event.target.value));};var filterPersons=function filterPersons(persons,f){return persons.filter(function(person){return person.name.includes(f);});};var deletePerson=function deletePerson(person){if(window.confirm(\"delete \".concat(person.name,\"?\"))){services_persons.remove(person.id).then(function(){services_persons.getAll().then(function(returnedPersons){setPersons(returnedPersons);});});}return;};var updatePerson=function updatePerson(id,person){console.log(person);services_persons.update(id,person).then(function(returnedPerson){setPersons(persons.map(function(person){return person.id!==id?person:returnedPerson;}));});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_Notification,{message:errorMessage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Search\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Filter,{onChange:handleFilter}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:addName,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Add a new\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_PersonForm,{name:newName,number:number,personChange:handlePersonChange,numberChange:handleNumberChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"add\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_Notification,{message:addedMessage}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Numbers\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Person,{persons:persons,deletePerson:deletePerson})]});};var App_Notification=function Notification(_ref){var message=_ref.message;if(message===null){return null;}console.log(message);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"success\",children:message});};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[38,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/node_modules/postcss-loader/src/index.js??postcss!/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/app.css","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/components/Filter.js","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/components/Person.js","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/components/PersonForm.js","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/services/persons.js","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/App.js","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/index.js"],"names":["Filter","props","handleFilter","onChange","Person","persons","deletePerson","map","person","i","name","number","PersonForm","personChange","numberChange","baseUrl","getAll","request","axios","get","then","response","data","create","newObject","post","remove","id","delete","update","put","App","useState","setPersons","newName","setNewName","setNumber","addedMessage","setAddedMessage","errorMessage","setErrorMessage","useEffect","personService","returnedPersons","addName","event","preventDefault","personObject","alreadyOnList","find","o","length","returnedPerson","concat","catch","error","setTimeout","window","confirm","updatePerson","handlePersonChange","target","value","handleNumberChange","filterPersons","f","filter","includes","console","log","Notification","message","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React from \"react\";\n\nconst Filter = (props) => {\n    const handleFilter = props.onChange;\n    return (\n        <div>\n            filter shown with:\n            <input onChange={handleFilter} />\n        </div>\n    );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Person = (props) => {\n    const persons = props.persons;\n    const deletePerson = props.deletePerson;\n    return (\n        <ul>\n            {persons.map((person, i) => {\n                return (\n                    <li key={i}>\n                        {person.name} {person.number}{\" \"}\n                        <button onClick={() => deletePerson(person)}>\n                            delete\n                        </button>\n                    </li>\n                );\n            })}\n        </ul>\n    );\n};\n\nexport default Person;\n","import React from \"react\";\n\nconst PersonForm = (props) => {\n    const { name, number, personChange, numberChange } = props;\n    return (\n        <div>\n            <div>\n                name:\n                <input value={name} onChange={personChange} />\n            </div>\n            <div>\n                number:\n                <input value={number} onChange={numberChange} />\n            </div>\n        </div>\n    );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request.then((response) => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Person from \"./components/Person\";\nimport PersonForm from \"./components/PersonForm\";\nimport personService from \"./services/persons\";\nimport \"./app.css\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState(\"\");\n    const [number, setNumber] = useState(\"\");\n    const [addedMessage, setAddedMessage] = useState(null);\n    const [errorMessage, setErrorMessage] = useState(null);\n\n    useEffect(() => {\n        personService.getAll().then((returnedPersons) => {\n            setPersons(returnedPersons);\n        });\n    }, []);\n\n    const addName = (event) => {\n        event.preventDefault();\n        const personObject = {\n            name: newName,\n            number: number,\n        };\n\n        const alreadyOnList = persons.find((o) => o.name === newName);\n\n        if (!alreadyOnList) {\n            if (personObject.name.length > 2 && personObject.number > 7) {\n                personService\n                    .create(personObject)\n                    .then((returnedPerson) => {\n                        setPersons(persons.concat(returnedPerson));\n                    })\n                    .catch((error) => {\n                        setErrorMessage(error.response.data);\n                    });\n                setPersons(persons.concat(personObject));\n                setAddedMessage(`${personObject.name} was added to numbers`);\n                setTimeout(() => {\n                    setAddedMessage(null);\n                }, 2000);\n                setNewName(\"\");\n                setNumber(\"\");\n            } else {\n                return;\n            }\n        } else {\n            if (\n                window.confirm(\n                    `${personObject.name} is already on the list, replace the old number with a new one?`\n                )\n            ) {\n                updatePerson(alreadyOnList.id, personObject);\n                setNewName(\"\");\n                setNumber(\"\");\n            }\n        }\n    };\n\n    const handlePersonChange = (event) => {\n        setNewName(event.target.value);\n    };\n\n    const handleNumberChange = (event) => {\n        setNumber(event.target.value);\n    };\n\n    const handleFilter = (event) => {\n        setPersons(filterPersons(persons, event.target.value));\n    };\n\n    const filterPersons = (persons, f) => {\n        return persons.filter((person) => person.name.includes(f));\n    };\n\n    const deletePerson = (person) => {\n        if (window.confirm(`delete ${person.name}?`)) {\n            personService.remove(person.id).then(() => {\n                personService.getAll().then((returnedPersons) => {\n                    setPersons(returnedPersons);\n                });\n            });\n        }\n        return;\n    };\n\n    const updatePerson = (id, person) => {\n        console.log(person);\n        personService.update(id, person).then((returnedPerson) => {\n            setPersons(\n                persons.map((person) =>\n                    person.id !== id ? person : returnedPerson\n                )\n            );\n        });\n    };\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={errorMessage} />\n            <h2>Search</h2>\n            <Filter onChange={handleFilter} />\n            <form onSubmit={addName}>\n                <div>\n                    <h2>Add a new</h2>\n                    <PersonForm\n                        name={newName}\n                        number={number}\n                        personChange={handlePersonChange}\n                        numberChange={handleNumberChange}\n                    />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n            <Notification message={addedMessage} />\n            <h2>Numbers</h2>\n            <Person persons={persons} deletePerson={deletePerson} />\n        </div>\n    );\n};\n\nconst Notification = ({ message }) => {\n    if (message === null) {\n        return null;\n    }\n\n    console.log(message);\n\n    return <div className=\"success\">{message}</div>;\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.js\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"]}}