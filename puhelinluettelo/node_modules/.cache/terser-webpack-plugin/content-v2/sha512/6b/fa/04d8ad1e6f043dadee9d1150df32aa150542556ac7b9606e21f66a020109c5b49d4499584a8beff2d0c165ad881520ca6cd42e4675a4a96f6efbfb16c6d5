{"code":"(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{40:function(e,n,t){},41:function(e,n,t){\"use strict\";t.r(n);var c=t(0),r=t(1),u=t.n(r),a=t(16),i=t.n(a),s=t(4),o=t.n(s),j=t(7),l=t(3),b=function(e){var n=e.onChange;return Object(c.jsxs)(\"div\",{children:[\"filter shown with:\",Object(c.jsx)(\"input\",{onChange:n})]})},d=function(e){var n=e.persons,t=e.deletePerson;return Object(c.jsx)(\"ul\",{children:n.map((function(e,n){return Object(c.jsxs)(\"li\",{children:[e.name,\" \",e.number,\" \",Object(c.jsx)(\"button\",{onClick:function(){return t(e)},children:\"delete\"})]},n)}))})},f=function(e){var n=e.name,t=e.number,r=e.personChange,u=e.numberChange;return Object(c.jsxs)(\"div\",{children:[Object(c.jsxs)(\"div\",{children:[\"name:\",Object(c.jsx)(\"input\",{value:n,onChange:r})]}),Object(c.jsxs)(\"div\",{children:[\"number:\",Object(c.jsx)(\"input\",{value:t,onChange:u})]})]})},h=t(5),O=t.n(h),p=\"/api/persons\",m=function(){return O.a.get(p).then((function(e){return e.data}))},x=function(e){return O.a.post(p,e).then((function(e){return e.data}))},v=function(e){return O.a.delete(\"\".concat(p,\"/\").concat(e)).then((function(e){return e.data}))},g=function(e,n){return O.a.put(\"\".concat(p,\"/\").concat(e),n).then((function(e){return e.data}))},w=(t(40),function(e){var n=e.message,t=e.type;return null===n?null:\"fail\"===t?Object(c.jsx)(\"div\",{className:\"fail\",children:n}):Object(c.jsx)(\"div\",{className:\"success\",children:n})}),C=function(){var e=Object(r.useState)([]),n=Object(l.a)(e,2),t=n[0],u=n[1],a=Object(r.useState)(\"\"),i=Object(l.a)(a,2),s=i[0],h=i[1],O=Object(r.useState)(\"\"),p=Object(l.a)(O,2),C=p[0],y=p[1],S=Object(r.useState)(null),k=Object(l.a)(S,2),N=k[0],P=k[1],E=Object(r.useState)(null),J=Object(l.a)(E,2),T=J[0],q=J[1];Object(r.useEffect)((function(){m().then((function(e){u(e)}))}),[]);var A=function(e,n){return e.filter((function(e){return e.name.includes(n)}))},B=function(e,n){console.log(n),g(e,n).then((function(n){u(t.map((function(t){return t.id!==e?t:n})))}))};return Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(\"h2\",{children:\"Phonebook\"}),Object(c.jsx)(w,{message:T,type:\"fail\"}),Object(c.jsx)(\"h2\",{children:\"Search\"}),Object(c.jsx)(b,{onChange:function(e){u(A(t,e.target.value))}}),Object(c.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault();var n={name:s,number:C},c=t.find((function(e){return e.name===s}));if(c)window.confirm(\"\".concat(n.name,\" is already on the list, replace the old number with a new one?\"))&&(B(c.id,n),h(\"\"),y(\"\"));else{var r=function(){var e=Object(j.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n).then((function(e){return e})).catch((function(e){return e.response}));case 2:return t=e.sent,e.abrupt(\"return\",t);case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(function(){var e=Object(j.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:400!==(c=e.sent).status?(u(t.concat(c)),P(\"\".concat(n.name,\" was added to numbers\")),setTimeout((function(){P(null)}),2e3),h(\"\"),y(\"\")):(q(c.request.response),setTimeout((function(){q(null)}),2e3));case 4:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}},children:[Object(c.jsxs)(\"div\",{children:[Object(c.jsx)(\"h2\",{children:\"Add a new\"}),Object(c.jsx)(f,{name:s,number:C,personChange:function(e){h(e.target.value)},numberChange:function(e){y(e.target.value)}})]}),Object(c.jsx)(\"div\",{children:Object(c.jsx)(\"button\",{type:\"submit\",children:\"add\"})})]}),Object(c.jsx)(w,{message:N,type:\"success\"}),Object(c.jsx)(\"h2\",{children:\"Numbers\"}),Object(c.jsx)(d,{persons:t,deletePerson:function(e){window.confirm(\"delete \".concat(e.name,\"?\"))&&v(e.id).then((function(){m().then((function(e){u(e)}))}))}})]})};i.a.render(Object(c.jsx)(u.a.StrictMode,{children:Object(c.jsx)(C,{})}),document.getElementById(\"root\"))}},[[41,1,2]]]);","name":"static/js/main.f92e847b.chunk.js","map":{"version":3,"sources":["static/js/main.f92e847b.chunk.js"],"names":["this","push","40","module","exports","__webpack_require__","41","__webpack_exports__","r","jsx_runtime","react","react_default","n","react_dom","react_dom_default","regenerator","regenerator_default","asyncToGenerator","slicedToArray","components_Filter","props","handleFilter","onChange","Object","children","components_Person","persons","deletePerson","map","person","i","name","number","onClick","components_PersonForm","personChange","numberChange","value","axios","axios_default","baseUrl","services_persons","a","get","then","response","data","newObject","post","id","delete","concat","put","App_Notification","_ref3","message","type","className","src_App","_useState","_useState2","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","setNumber","_useState7","_useState8","addedMessage","setAddedMessage","_useState9","_useState10","errorMessage","setErrorMessage","returnedPersons","filterPersons","f","filter","includes","updatePerson","console","log","returnedPerson","event","target","onSubmit","preventDefault","personObject","alreadyOnList","find","o","window","confirm","createPerson","_ref","mark","_callee","wrap","_context","prev","next","catch","error","sent","abrupt","stop","apply","arguments","_ref2","_callee2","_context2","status","setTimeout","request","addPerson","render","StrictMode","document","getElementById"],"mappings":"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"},"input":"(this[\"webpackJsonppuhelinluettelo\"] = this[\"webpackJsonppuhelinluettelo\"] || []).push([[0],{\n\n/***/ 40:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(16);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(4);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/components/Filter.js\nvar Filter_Filter=function Filter(props){var handleFilter=props.onChange;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"filter shown with:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{onChange:handleFilter})]});};/* harmony default export */ var components_Filter = (Filter_Filter);\n// CONCATENATED MODULE: ./src/components/Person.js\nvar Person_Person=function Person(props){var persons=props.persons;var deletePerson=props.deletePerson;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"ul\",{children:persons.map(function(person,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[person.name,\" \",person.number,\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return deletePerson(person);},children:\"delete\"})]},i);})});};/* harmony default export */ var components_Person = (Person_Person);\n// CONCATENATED MODULE: ./src/components/PersonForm.js\nvar PersonForm_PersonForm=function PersonForm(props){var name=props.name,number=props.number,personChange=props.personChange,numberChange=props.numberChange;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"name:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:name,onChange:personChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[\"number:\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:number,onChange:numberChange})]})]});};/* harmony default export */ var components_PersonForm = (PersonForm_PersonForm);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(5);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/persons.js\nvar baseUrl=\"/api/persons\";var persons_getAll=function getAll(){var request=axios_default.a.get(baseUrl);return request.then(function(response){return response.data;});};var persons_create=function create(newObject){var request=axios_default.a.post(baseUrl,newObject);return request.then(function(response){return response.data;});};var persons_remove=function remove(id){var request=axios_default.a.delete(\"\".concat(baseUrl,\"/\").concat(id));return request.then(function(response){return response.data;});};var persons_update=function update(id,newObject){var request=axios_default.a.put(\"\".concat(baseUrl,\"/\").concat(id),newObject);return request.then(function(response){return response.data;});};/* harmony default export */ var services_persons = ({getAll:persons_getAll,create:persons_create,remove:persons_remove,update:persons_update});\n// EXTERNAL MODULE: ./src/app.css\nvar app = __webpack_require__(40);\n\n// CONCATENATED MODULE: ./src/App.js\nvar App_App=function App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=Object(react[\"useState\"])(\"\"),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),number=_useState6[0],setNumber=_useState6[1];var _useState7=Object(react[\"useState\"])(null),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),addedMessage=_useState8[0],setAddedMessage=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),errorMessage=_useState10[0],setErrorMessage=_useState10[1];Object(react[\"useEffect\"])(function(){services_persons.getAll().then(function(returnedPersons){setPersons(returnedPersons);});},[]);var addName=function addName(event){event.preventDefault();var personObject={name:newName,number:number};var alreadyOnList=persons.find(function(o){return o.name===newName;});if(!alreadyOnList){var createPerson=/*#__PURE__*/function(){var _ref=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(){var a;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return services_persons.create(personObject).then(function(returnedPerson){return returnedPerson;}).catch(function(error){return error.response;});case 2:a=_context.sent;return _context.abrupt(\"return\",a);case 4:case\"end\":return _context.stop();}}},_callee);}));return function createPerson(){return _ref.apply(this,arguments);};}();var addPerson=/*#__PURE__*/function(){var _ref2=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(){var a;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return createPerson();case 2:a=_context2.sent;if(a.status!==400){setPersons(persons.concat(a));setAddedMessage(\"\".concat(personObject.name,\" was added to numbers\"));setTimeout(function(){setAddedMessage(null);},2000);setNewName(\"\");setNumber(\"\");}else{setErrorMessage(a.request.response);setTimeout(function(){setErrorMessage(null);},2000);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function addPerson(){return _ref2.apply(this,arguments);};}();addPerson();}else{if(window.confirm(\"\".concat(personObject.name,\" is already on the list, replace the old number with a new one?\"))){updatePerson(alreadyOnList.id,personObject);setNewName(\"\");setNumber(\"\");}}};var handlePersonChange=function handlePersonChange(event){setNewName(event.target.value);};var handleNumberChange=function handleNumberChange(event){setNumber(event.target.value);};var handleFilter=function handleFilter(event){setPersons(filterPersons(persons,event.target.value));};var filterPersons=function filterPersons(persons,f){return persons.filter(function(person){return person.name.includes(f);});};var deletePerson=function deletePerson(person){if(window.confirm(\"delete \".concat(person.name,\"?\"))){services_persons.remove(person.id).then(function(){services_persons.getAll().then(function(returnedPersons){setPersons(returnedPersons);});});}return;};var updatePerson=function updatePerson(id,person){console.log(person);services_persons.update(id,person).then(function(returnedPerson){setPersons(persons.map(function(person){return person.id!==id?person:returnedPerson;}));});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_Notification,{message:errorMessage,type:\"fail\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Search\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Filter,{onChange:handleFilter}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:addName,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Add a new\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_PersonForm,{name:newName,number:number,personChange:handlePersonChange,numberChange:handleNumberChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"add\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(App_Notification,{message:addedMessage,type:\"success\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Numbers\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Person,{persons:persons,deletePerson:deletePerson})]});};var App_Notification=function Notification(_ref3){var message=_ref3.message,type=_ref3.type;if(message===null){return null;}if(type===\"fail\"){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"fail\",children:message});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"success\",children:message});}};/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}),document.getElementById(\"root\"));\n\n/***/ })\n\n},[[41,1,2]]]);","inputSourceMap":{"version":3,"sources":["/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/node_modules/postcss-loader/src/index.js??postcss!/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/app.css","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/components/Filter.js","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/components/Person.js","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/components/PersonForm.js","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/services/persons.js","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/App.js","/home/matias/projects/web/full-stack-open/osa_3/puhelinluettelo/src/index.js"],"names":["Filter","props","handleFilter","onChange","Person","persons","deletePerson","map","person","i","name","number","PersonForm","personChange","numberChange","baseUrl","getAll","request","axios","get","then","response","data","create","newObject","post","remove","id","delete","update","put","App","useState","setPersons","newName","setNewName","setNumber","addedMessage","setAddedMessage","errorMessage","setErrorMessage","useEffect","personService","returnedPersons","addName","event","preventDefault","personObject","alreadyOnList","find","o","createPerson","returnedPerson","catch","error","a","addPerson","status","concat","setTimeout","window","confirm","updatePerson","handlePersonChange","target","value","handleNumberChange","filterPersons","f","filter","includes","console","log","Notification","message","type","ReactDOM","render","document","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import React from \"react\";\n\nconst Filter = (props) => {\n    const handleFilter = props.onChange;\n    return (\n        <div>\n            filter shown with:\n            <input onChange={handleFilter} />\n        </div>\n    );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst Person = (props) => {\n    const persons = props.persons;\n    const deletePerson = props.deletePerson;\n    return (\n        <ul>\n            {persons.map((person, i) => {\n                return (\n                    <li key={i}>\n                        {person.name} {person.number}{\" \"}\n                        <button onClick={() => deletePerson(person)}>\n                            delete\n                        </button>\n                    </li>\n                );\n            })}\n        </ul>\n    );\n};\n\nexport default Person;\n","import React from \"react\";\n\nconst PersonForm = (props) => {\n    const { name, number, personChange, numberChange } = props;\n    return (\n        <div>\n            <div>\n                name:\n                <input value={name} onChange={personChange} />\n            </div>\n            <div>\n                number:\n                <input value={number} onChange={numberChange} />\n            </div>\n        </div>\n    );\n};\n\nexport default PersonForm;\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n    const request = axios.get(baseUrl);\n    return request.then((response) => response.data);\n};\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject);\n    return request.then((response) => response.data);\n};\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`);\n    return request.then((response) => response.data);\n};\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject);\n    return request.then((response) => response.data);\n};\n\nexport default { getAll, create, remove, update };\n","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport Person from \"./components/Person\";\nimport PersonForm from \"./components/PersonForm\";\nimport personService from \"./services/persons\";\nimport \"./app.css\";\n\nconst App = () => {\n    const [persons, setPersons] = useState([]);\n    const [newName, setNewName] = useState(\"\");\n    const [number, setNumber] = useState(\"\");\n    const [addedMessage, setAddedMessage] = useState(null);\n    const [errorMessage, setErrorMessage] = useState(null);\n\n    useEffect(() => {\n        personService.getAll().then((returnedPersons) => {\n            setPersons(returnedPersons);\n        });\n    }, []);\n\n    const addName = (event) => {\n        event.preventDefault();\n        const personObject = {\n            name: newName,\n            number: number,\n        };\n\n        const alreadyOnList = persons.find((o) => o.name === newName);\n\n        if (!alreadyOnList) {\n            const createPerson = async () => {\n                const a = await personService\n                    .create(personObject)\n                    .then((returnedPerson) => {\n                        return returnedPerson;\n                    })\n                    .catch((error) => {\n                        return error.response;\n                    });\n\n                return a;\n            };\n\n            const addPerson = async () => {\n                const a = await createPerson();\n                if (a.status !== 400) {\n                    setPersons(persons.concat(a));\n                    setAddedMessage(\n                        `${personObject.name} was added to numbers`\n                    );\n                    setTimeout(() => {\n                        setAddedMessage(null);\n                    }, 2000);\n                    setNewName(\"\");\n                    setNumber(\"\");\n                } else {\n                    setErrorMessage(a.request.response);\n                    setTimeout(() => {\n                        setErrorMessage(null);\n                    }, 2000);\n                }\n            };\n\n            addPerson();\n        } else {\n            if (\n                window.confirm(\n                    `${personObject.name} is already on the list, replace the old number with a new one?`\n                )\n            ) {\n                updatePerson(alreadyOnList.id, personObject);\n                setNewName(\"\");\n                setNumber(\"\");\n            }\n        }\n    };\n\n    const handlePersonChange = (event) => {\n        setNewName(event.target.value);\n    };\n\n    const handleNumberChange = (event) => {\n        setNumber(event.target.value);\n    };\n\n    const handleFilter = (event) => {\n        setPersons(filterPersons(persons, event.target.value));\n    };\n\n    const filterPersons = (persons, f) => {\n        return persons.filter((person) => person.name.includes(f));\n    };\n\n    const deletePerson = (person) => {\n        if (window.confirm(`delete ${person.name}?`)) {\n            personService.remove(person.id).then(() => {\n                personService.getAll().then((returnedPersons) => {\n                    setPersons(returnedPersons);\n                });\n            });\n        }\n        return;\n    };\n\n    const updatePerson = (id, person) => {\n        console.log(person);\n        personService.update(id, person).then((returnedPerson) => {\n            setPersons(\n                persons.map((person) =>\n                    person.id !== id ? person : returnedPerson\n                )\n            );\n        });\n    };\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={errorMessage} type=\"fail\" />\n            <h2>Search</h2>\n            <Filter onChange={handleFilter} />\n            <form onSubmit={addName}>\n                <div>\n                    <h2>Add a new</h2>\n                    <PersonForm\n                        name={newName}\n                        number={number}\n                        personChange={handlePersonChange}\n                        numberChange={handleNumberChange}\n                    />\n                </div>\n                <div>\n                    <button type=\"submit\">add</button>\n                </div>\n            </form>\n            <Notification message={addedMessage} type=\"success\" />\n            <h2>Numbers</h2>\n            <Person persons={persons} deletePerson={deletePerson} />\n        </div>\n    );\n};\n\nconst Notification = ({ message, type }) => {\n    if (message === null) {\n        return null;\n    }\n\n    if (type === \"fail\") {\n        return <div className=\"fail\">{message}</div>;\n    } else {\n        return <div className=\"success\">{message}</div>;\n    }\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App.js\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"]}}